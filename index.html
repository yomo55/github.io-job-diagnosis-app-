<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Åä‰ªï‰∫ãË®∫Êñ≠ - „ÅÇ„Å™„Åü„Çâ„Åó„ÅÑÂÉç„ÅçÊñπ„ÇíË¶ã„Å§„Åë„Çà„ÅÜ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Kaku Gothic ProN', 'Yu Gothic', 'Meiryo', sans-serif;
            background: linear-gradient(135deg, #f8f4f0 0%, #fceef5 100%);
            min-height: 100vh;
            color: #6b5b5b;
            line-height: 1.8;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .screen {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            background: white;
            border-radius: 24px;
            padding: 40px 30px;
            box-shadow: 0 8px 32px rgba(219, 179, 195, 0.2);
            margin-bottom: 20px;
        }

        h1 {
            font-size: 28px;
            color: #d4a5a5;
            text-align: center;
            margin-bottom: 20px;
            font-weight: 600;
            line-height: 1.5;
        }

        h2 {
            font-size: 22px;
            color: #b897ab;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .subtitle {
            text-align: center;
            font-size: 15px;
            color: #9b8d8d;
            margin-bottom: 30px;
            line-height: 1.8;
        }

        .start-btn, .next-btn, .restart-btn, .pdf-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #e8b4bc 0%, #d4a5a5 100%);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(212, 165, 165, 0.3);
            margin-top: 10px;
        }

        .start-btn:hover, .next-btn:hover, .restart-btn:hover, .pdf-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(212, 165, 165, 0.4);
        }

        .restart-btn {
            background: linear-gradient(135deg, #c5b8c7 0%, #b897ab 100%);
        }

        .pdf-btn {
            background: linear-gradient(135deg, #f5d6e0 0%, #e8b4bc 100%);
            color: #6b5b5b;
            font-size: 16px;
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #f5e8ed;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e8b4bc 0%, #d4a5a5 100%);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .question-number {
            text-align: center;
            color: #b897ab;
            font-size: 14px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .question-text {
            font-size: 20px;
            text-align: center;
            color: #6b5b5b;
            margin-bottom: 35px;
            font-weight: 600;
            line-height: 1.6;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            position: relative;
        }

        .option input[type="radio"] {
            position: absolute;
            opacity: 0;
        }

        .option label {
            display: block;
            padding: 18px 20px;
            background: #faf7f5;
            border: 2px solid #f5e8ed;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            color: #6b5b5b;
            text-align: center;
        }

        .option input[type="radio"]:checked + label {
            background: linear-gradient(135deg, #fceef5 0%, #f5e8ed 100%);
            border-color: #e8b4bc;
            color: #d4a5a5;
            font-weight: 600;
            transform: scale(1.02);
            box-shadow: 0 4px 12px rgba(232, 180, 188, 0.2);
        }

        .option label:hover {
            border-color: #e8b4bc;
            background: #fceef5;
        }

        .next-btn {
            margin-top: 25px;
            opacity: 0.5;
            cursor: not-allowed;
        }

        .next-btn.enabled {
            opacity: 1;
            cursor: pointer;
        }

        .result-type {
            text-align: center;
            font-size: 26px;
            color: #d4a5a5;
            margin-bottom: 25px;
            font-weight: 700;
            padding: 20px;
            background: linear-gradient(135deg, #fceef5 0%, #f5e8ed 100%);
            border-radius: 16px;
        }

        .result-message {
            font-size: 16px;
            line-height: 2;
            margin-bottom: 25px;
            color: #6b5b5b;
            text-align: center;
            padding: 0 10px;
        }

        .result-features {
            background: #faf7f5;
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 25px;
        }

        .result-features h3 {
            font-size: 18px;
            color: #b897ab;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .result-features ul {
            list-style: none;
            padding-left: 0;
        }

        .result-features li {
            padding: 10px 0;
            padding-left: 25px;
            position: relative;
            color: #6b5b5b;
            font-size: 15px;
        }

        .result-features li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: #e8b4bc;
            font-weight: 700;
        }

        .pdf-notice {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #f5f0f5 0%, #faf7f5 100%);
            border-radius: 16px;
            margin-bottom: 20px;
            color: #9b8d8d;
            font-size: 14px;
            line-height: 1.8;
        }

        .loading {
            text-align: center;
            padding: 40px;
            font-size: 16px;
            color: #b897ab;
        }

        .spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid #f5e8ed;
            border-top-color: #e8b4bc;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .icon {
            text-align: center;
            font-size: 60px;
            margin-bottom: 20px;
        }

        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }

            .card {
                padding: 30px 20px;
                border-radius: 20px;
            }

            h1 {
                font-size: 24px;
            }

            .question-text {
                font-size: 18px;
            }

            .option label {
                font-size: 15px;
                padding: 16px 15px;
            }
        }

        @keyframes selectPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .option input[type="radio"]:checked + label {
            animation: selectPulse 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- „Çπ„Çø„Éº„ÉàÁîªÈù¢ -->
        <div id="startScreen" class="screen active">
            <div class="card">
                <div class="icon">üå∏</div>
                <h1>„ÅÇ„Å™„Åü„Çâ„Åó„ÅÑÂÉç„ÅçÊñπ<br>Ë®∫Êñ≠</h1>
                <p class="subtitle">
                    „Åü„Å£„Åü5„Å§„ÅÆË≥™Âïè„Å´Á≠î„Åà„Çã„Å†„Åë„Åß<br>
                    „ÅÇ„Å™„Åü„Å´Âêà„Å£„Åü„Åä‰ªï‰∫ã„Çø„Ç§„Éó„Åå„Çè„Åã„Çä„Åæ„Åô„ÄÇ<br><br>
                    „É™„É©„ÉÉ„ÇØ„Çπ„Åó„Å¶„ÄÅÁõ¥ÊÑü„ÅßÁ≠î„Åà„Å¶„Åè„Å†„Åï„ÅÑ„Å≠„ÄÇ
                </p>
                <button class="start-btn" onclick="startDiagnosis()">Ë®∫Êñ≠„Çí„ÅØ„Åò„ÇÅ„Çã</button>
            </div>
        </div>

        <!-- Ë≥™ÂïèÁîªÈù¢ -->
        <div id="questionScreen" class="screen">
            <div class="card">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="question-number" id="questionNumber"></div>
                <div class="question-text" id="questionText"></div>
                <div class="options" id="optionsContainer"></div>
                <button class="next-btn" id="nextBtn" onclick="nextQuestion()">Ê¨°„Å∏</button>
            </div>
        </div>

        <!-- „É≠„Éº„Éá„Ç£„É≥„Ç∞ÁîªÈù¢ -->
        <div id="loadingScreen" class="screen">
            <div class="card">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>„ÅÇ„Å™„Åü„Å´„Å¥„Å£„Åü„Çä„ÅÆÂÉç„ÅçÊñπ„Çí<br>Ë®∫Êñ≠„Åó„Å¶„ÅÑ„Åæ„Åô...</p>
                </div>
            </div>
        </div>

        <!-- Ë®∫Êñ≠ÁµêÊûúÁîªÈù¢ -->
        <div id="resultScreen" class="screen">
            <div class="card">
                <div class="icon" id="resultIcon"></div>
                <div class="result-type" id="resultType"></div>
                <div class="result-message" id="resultMessage"></div>
                <div class="result-features">
                    <h3>„ÅÇ„Å™„Åü„Å´Âêë„ÅÑ„Å¶„ÅÑ„ÇãÂÉç„ÅçÊñπ</h3>
                    <ul id="resultFeatures"></ul>
                </div>
                <div class="pdf-notice">
                    „Åì„ÅÆ„Çø„Ç§„Éó„ÅÆË©≥„Åó„ÅÑ„Åä‰ªï‰∫ãÂÜÖÂÆπ„ÇÑ<br>
                    „Åä„Åô„Åô„ÇÅ„ÅÆÂÉç„ÅçÊñπ„ÅØ<br>
                    PDF„Åß„ÅîÊ°àÂÜÖ„Åó„Å¶„ÅÑ„Åæ„Åô
                </div>
                <button class="pdf-btn" onclick="viewPDF()">PDF„ÇíË¶ã„Çã„Éª„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ„Åô„Çã</button>
                <button class="restart-btn" onclick="restartDiagnosis()">„ÇÇ„ÅÜ‰∏ÄÂ∫¶Ë®∫Êñ≠„Åô„Çã</button>
            </div>
        </div>
    </div>

    <script>
        // ========================================
        // Ë≥™Âïè„Éá„Éº„ÇøÔºà„Åì„Åì„ÇíÁ∑®ÈõÜ„Åó„Å¶Ë≥™Âïè„Çí„Ç´„Çπ„Çø„Éû„Ç§„Ç∫Ôºâ
        // ========================================
        const questions = [
            {
                id: 1,
                text: "Á¥∞„Åã„ÅÑ‰ΩúÊ•≠„Çí„Ç≥„ÉÑ„Ç≥„ÉÑ„Å®‰∏ÅÂØß„Å´ÈÄ≤„ÇÅ„Çã„Åì„Å®„ÅåÂ•Ω„Åç",
                category: "detail" // ÈõÜË®àÁî®„Ç´„ÉÜ„Ç¥„É™
            },
            {
                id: 2,
                text: "Ë™∞„Åã„Çí„Çµ„Éù„Éº„Éà„Åó„Åü„Çä„ÄÅÂΩπ„Å´Á´ã„Å¶„Çã„Åì„Å®„Å´„ÇÑ„Çä„Åå„ÅÑ„ÇíÊÑü„Åò„Çã",
                category: "support"
            },
            {
                id: 3,
                text: "Ëá™ÂàÜ„ÅÆ„Éö„Éº„Çπ„ÅßËêΩ„Å°ÁùÄ„ÅÑ„Å¶‰ªï‰∫ã„Çí„Åó„Åü„ÅÑ",
                category: "independent"
            },
            {
                id: 4,
                text: "Êñ∞„Åó„ÅÑ„Åì„Å®„ÇíÂ≠¶„Çì„Å†„Çä„ÄÅ„Çπ„Ç≠„É´„ÇíÁ£®„Åè„ÅÆ„ÅåÊ•Ω„Åó„ÅÑ",
                category: "learning"
            },
            {
                id: 5,
                text: "‰∫∫„Å®Èñ¢„Çè„Çä„Å™„Åå„Çâ„ÄÅ„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„ÇíÂ§ßÂàá„Å´„Åó„Å¶ÂÉç„Åç„Åü„ÅÑ",
                category: "communication"
            }
        ];

        // ========================================
        // Ë®∫Êñ≠ÁµêÊûú„Çø„Ç§„ÉóÔºà„Åì„Åì„ÇíÁ∑®ÈõÜ„Åó„Å¶ÁµêÊûú„Çí„Ç´„Çπ„Çø„Éû„Ç§„Ç∫Ôºâ
        // ========================================
        const resultTypes = {
            gentle_support: {
                icon: "üíù",
                title: "„ÇÑ„Åï„Åó„ÅÑ„Çµ„Éù„Éº„Éà„Çø„Ç§„Éó",
                message: "„ÅÇ„Å™„Åü„ÅØ„ÄÅË™∞„Åã„ÇíÊîØ„Åà„Çã„Åì„Å®„Å´Âñú„Å≥„ÇíÊÑü„Åò„Çã„ÄÅÂøÉÊ∏©„Åã„Å™Êñπ„Åß„Åô„ÄÇÁ¥∞„ÇÑ„Åã„Å™Ê∞óÈÖç„Çä„Å®‰∏ÅÂØß„Å™ÂØæÂøú„Åß„ÄÅÁõ∏Êâã„Å´ÂÆâÂøÉÊÑü„Çí‰∏é„Åà„Çâ„Çå„Çã„ÅÇ„Å™„Åü„Çâ„Åó„Åï„ÇíÂ§ßÂàá„Å´„Åó„Å¶„Åè„Å†„Åï„ÅÑ„Å≠„ÄÇ",
                features: [
                    "„Ç™„É≥„É©„Ç§„É≥ÁßòÊõ∏„ÇÑ„Ç¢„Ç∑„Çπ„Çø„É≥„ÉàÊ•≠Âãô",
                    "„Ç´„Çπ„Çø„Éû„Éº„Çµ„Éù„Éº„Éà",
                    "„Çπ„Ç±„Ç∏„É•„Éº„É´ÁÆ°ÁêÜ„ÇÑ„É°„Éº„É´ÂØæÂøú",
                    "‰∫∫„Çí„Çµ„Éù„Éº„Éà„Åô„ÇãÂú®ÂÆÖ„ÉØ„Éº„ÇØ"
                ],
                pdfUrl: "https://example.com/pdfs/gentle-support.pdf" // ÂÆüÈöõ„ÅÆPDF„ÅÆURL„Å´Â∑Æ„ÅóÊõø„Åà
            },
            steady_worker: {
                icon: "üìã",
                title: "„Ç≥„ÉÑ„Ç≥„ÉÑ‰∫ãÂãô„Çø„Ç§„Éó",
                message: "„ÅÇ„Å™„Åü„ÅØ„ÄÅ‰∏ÅÂØß„Å´Ê≠£Á¢∫„Å´„ÄÅÁùÄÂÆü„Å´Áâ©‰∫ã„ÇíÈÄ≤„ÇÅ„ÇãÂäõ„ÇíÊåÅ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇÁÑ¶„Çâ„ÅöËá™ÂàÜ„ÅÆ„Éö„Éº„Çπ„ÅßÂÉç„Åè„Åì„Å®„Åß„ÄÅ„ÅÇ„Å™„Åü„ÅÆËâØ„Åï„ÅåÊúÄÂ§ßÈôê„Å´Áô∫ÊèÆ„Åï„Çå„Åæ„Åô„ÄÇÁÑ°ÁêÜ„Åõ„Åö„ÄÅ„Éû„Ç§„Éö„Éº„Çπ„Å´ÈÄ≤„Çì„Åß„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ",
                features: [
                    "„Éá„Éº„ÇøÂÖ•Âäõ„ÇÑÊñáÊõ∏‰ΩúÊàê",
                    "ÁµåÁêÜ„Çµ„Éù„Éº„Éà„ÇÑË´ãÊ±ÇÊõ∏Âá¶ÁêÜ",
                    "Âú®ÂÆÖ„Åß„ÅÆ‰∫ãÂãô‰ΩúÊ•≠ÂÖ®Ëà¨",
                    "Ê≠£Á¢∫ÊÄß„ÅåÊ±Ç„ÇÅ„Çâ„Çå„ÇãÊ•≠Âãô"
                ],
                pdfUrl: "https://example.com/pdfs/steady-worker.pdf"
            },
            creative_learner: {
                icon: "‚ú®",
                title: "Â≠¶„Å≥Á∂ö„Åë„Çã„ÇØ„É™„Ç®„Ç§„ÉÜ„Ç£„Éñ„Çø„Ç§„Éó",
                message: "„ÅÇ„Å™„Åü„ÅØ„ÄÅÊñ∞„Åó„ÅÑ„Åì„Å®„Å´ÊåëÊà¶„Åô„ÇãÂ•ΩÂ•áÂøÉ„Å®„ÄÅÊüîËªü„Å™Áô∫ÊÉ≥„ÇíÊåÅ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇÂ≠¶„Å≥„Å™„Åå„ÇâÊàêÈï∑„Åß„Åç„ÇãÁí∞Â¢É„Åå„ÅÇ„Å™„Åü„Å´„Å¥„Å£„Åü„Çä„ÄÇ„ÅÇ„Å™„Åü„Çâ„Åó„Åè„ÄÅËá™Áî±„Å´Ë°®Áèæ„Åó„Å¶„ÅÑ„Å£„Å¶„Åè„Å†„Åï„ÅÑ„Å≠„ÄÇ",
                features: [
                    "SNSÈÅãÁî®„ÇÑ„Ç≥„É≥„ÉÜ„É≥„ÉÑ‰ΩúÊàê",
                    "Web„Éá„Ç∂„Ç§„É≥„ÇÑ„É©„Ç§„ÉÜ„Ç£„É≥„Ç∞",
                    "‰ºÅÁîª„Çµ„Éù„Éº„Éà„ÇÑ„É™„Çµ„Éº„ÉÅÊ•≠Âãô",
                    "„ÇØ„É™„Ç®„Ç§„ÉÜ„Ç£„Éñ„Å™ÂâØÊ•≠"
                ],
                pdfUrl: "https://example.com/pdfs/creative-learner.pdf"
            },
            warm_communicator: {
                icon: "üå∑",
                title: "„ÅÇ„Åü„Åü„Åã„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„Çø„Ç§„Éó",
                message: "„ÅÇ„Å™„Åü„ÅØ„ÄÅ‰∫∫„Å®„ÅÆÁπã„Åå„Çä„ÇíÂ§ßÂàá„Å´„Åó„ÄÅÊ∏©„Åã„ÅÑ„Ç≥„Éü„É•„Éã„Ç±„Éº„Ç∑„Éß„É≥„ÅßÂ†¥„ÇíÂíå„Åæ„Åõ„ÇãÂäõ„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ‰∫∫„Å®Èñ¢„Çè„Çä„Å™„Åå„ÇâÂÉç„Åè„Åì„Å®„Åß„ÄÅ„ÅÇ„Å™„Åü„ÇÇÂë®„Çä„ÇÇÁ¨ëÈ°î„Å´„Å™„Çå„Çã„ÅØ„Åö„Åß„Åô„ÄÇ",
                features: [
                    "„ÉÅ„É£„ÉÉ„Éà„Çµ„Éù„Éº„Éà„ÇÑ„Ç™„É≥„É©„Ç§„É≥Êé•ÂÆ¢",
                    "„Ç≥„Éü„É•„Éã„ÉÜ„Ç£„Éû„Éç„Éº„Ç∏„É£„Éº",
                    "„ÅäÂÆ¢ÊßòÂØæÂøú„ÇÑ„É°„Éº„É´Ëøî‰ø°‰ª£Ë°å",
                    "‰∫∫„Å®Áπã„Åå„Çã„Åä‰ªï‰∫ãÂÖ®Ëà¨"
                ],
                pdfUrl: "https://example.com/pdfs/warm-communicator.pdf"
            },
            balanced_type: {
                icon: "üåº",
                title: "„Éê„É©„É≥„ÇπÂûã„Éû„É´„ÉÅ„Çø„Ç§„Éó",
                message: "„ÅÇ„Å™„Åü„ÅØ„ÄÅÊßò„ÄÖ„Å™„Åì„Å®„Å´ÂØæÂøú„Åß„Åç„ÇãÊüîËªüÊÄß„Å®ÈÅ©ÂøúÂäõ„ÇíÊåÅ„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇËâ≤„ÄÖ„Å™„Åì„Å®„Å´ÊåëÊà¶„Åó„Å™„Åå„Çâ„ÄÅËá™ÂàÜ„Å´Âêà„Å£„ÅüÂÉç„ÅçÊñπ„ÇíË¶ã„Å§„Åë„Å¶„ÅÑ„Åë„Åæ„Åô„ÄÇÁÑ¶„Çâ„Åö„ÄÅÊ•Ω„Åó„Åø„Å™„Åå„ÇâÈÄ≤„Çì„Åß„ÅÑ„Åç„Åæ„Åó„Çá„ÅÜ„ÄÇ",
                features: [
                    "Ë§áÊï∞„ÅÆÊ•≠Âãô„ÇíÁµÑ„ÅøÂêà„Çè„Åõ„ÅüÂÉç„ÅçÊñπ",
                    "Á∑èÂêàÁöÑ„Å™„Ç¢„Ç∑„Çπ„Çø„É≥„ÉàÊ•≠Âãô",
                    "ÊüîËªü„Å´ÂØæÂøú„Åß„Åç„ÇãÂú®ÂÆÖ„ÉØ„Éº„ÇØ",
                    "ÂπÖÂ∫É„ÅÑ„Çπ„Ç≠„É´„ÇíÊ¥ª„Åã„Åõ„Çã‰ªï‰∫ã"
                ],
                pdfUrl: "https://example.com/pdfs/balanced-type.pdf"
            }
        };

        // ========================================
        // ÂõûÁ≠îÈÅ∏ÊäûËÇ¢ÔºàÂÖ®Ë≥™ÂïèÂÖ±ÈÄö„ÉªÂõ∫ÂÆöÔºâ
        // ========================================
        const options = [
            { value: 5, text: "„Å®„Å¶„ÇÇÂΩì„Å¶„ÅØ„Åæ„Çã" },
            { value: 4, text: "„Å†„ÅÑ„Åü„ÅÑÂΩì„Å¶„ÅØ„Åæ„Çã" },
            { value: 3, text: "„Å©„Å°„Çâ„Å®„ÇÇË®Ä„Åà„Å™„ÅÑ" },
            { value: 2, text: "„ÅÇ„Åæ„ÇäÂΩì„Å¶„ÅØ„Åæ„Çâ„Å™„ÅÑ" },
            { value: 1, text: "ÂÖ®„ÅèÂΩì„Å¶„ÅØ„Åæ„Çâ„Å™„ÅÑ" }
        ];

        // ========================================
        // Ë®∫Êñ≠„É≠„Ç∏„ÉÉ„ÇØ
        // ========================================
        let currentQuestion = 0;
        let answers = {};

        function startDiagnosis() {
            showScreen('questionScreen');
            currentQuestion = 0;
            answers = {};
            displayQuestion();
        }

        function displayQuestion() {
            const question = questions[currentQuestion];
            const progress = ((currentQuestion + 1) / questions.length) * 100;

            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('questionNumber').textContent = `Ë≥™Âïè ${currentQuestion + 1} / ${questions.length}`;
            document.getElementById('questionText').textContent = question.text;

            // ÈÅ∏ÊäûËÇ¢„ÇíÁîüÊàê
            const optionsHTML = options.map((option, index) => `
                <div class="option">
                    <input type="radio"
                           id="option${index}"
                           name="answer"
                           value="${option.value}"
                           onchange="enableNextButton()">
                    <label for="option${index}">${option.text}</label>
                </div>
            `).join('');

            document.getElementById('optionsContainer').innerHTML = optionsHTML;

            const nextBtn = document.getElementById('nextBtn');
            nextBtn.classList.remove('enabled');
            nextBtn.style.opacity = '0.5';
            nextBtn.style.cursor = 'not-allowed';
        }

        function enableNextButton() {
            const nextBtn = document.getElementById('nextBtn');
            nextBtn.classList.add('enabled');
            nextBtn.style.opacity = '1';
            nextBtn.style.cursor = 'pointer';
        }

        function nextQuestion() {
            const selectedOption = document.querySelector('input[name="answer"]:checked');

            if (!selectedOption) {
                return;
            }

            const question = questions[currentQuestion];
            answers[question.id] = {
                score: parseInt(selectedOption.value),
                category: question.category
            };

            currentQuestion++;

            if (currentQuestion < questions.length) {
                displayQuestion();
            } else {
                calculateResult();
            }
        }

        function calculateResult() {
            showScreen('loadingScreen');

            // „É≠„Éº„Éá„Ç£„É≥„Ç∞ÊºîÂá∫
            setTimeout(() => {
                const categoryScores = {};
                let totalScore = 0;

                // „Ç´„ÉÜ„Ç¥„É™„Åî„Å®„ÅÆ„Çπ„Ç≥„Ç¢„ÇíÈõÜË®à
                Object.values(answers).forEach(answer => {
                    if (!categoryScores[answer.category]) {
                        categoryScores[answer.category] = 0;
                    }
                    categoryScores[answer.category] += answer.score;
                    totalScore += answer.score;
                });

                // ÊúÄ„ÇÇ„Çπ„Ç≥„Ç¢„ÅÆÈ´ò„ÅÑ„Ç´„ÉÜ„Ç¥„É™„ÇíÁâπÂÆö
                let maxCategory = null;
                let maxScore = 0;

                Object.entries(categoryScores).forEach(([category, score]) => {
                    if (score > maxScore) {
                        maxScore = score;
                        maxCategory = category;
                    }
                });

                // Ë®∫Êñ≠ÁµêÊûú„ÅÆ„Çø„Ç§„Éó„ÇíÊ±∫ÂÆö
                let resultType;
                const avgScore = totalScore / questions.length;

                if (categoryScores.support >= 4 && categoryScores.detail >= 4) {
                    resultType = 'gentle_support';
                } else if (categoryScores.detail >= 4 && categoryScores.independent >= 4) {
                    resultType = 'steady_worker';
                } else if (categoryScores.learning >= 4) {
                    resultType = 'creative_learner';
                } else if (categoryScores.communication >= 4) {
                    resultType = 'warm_communicator';
                } else {
                    resultType = 'balanced_type';
                }

                displayResult(resultType);
            }, 2000);
        }

        function displayResult(typeKey) {
            const result = resultTypes[typeKey];

            document.getElementById('resultIcon').textContent = result.icon;
            document.getElementById('resultType').textContent = result.title;
            document.getElementById('resultMessage').textContent = result.message;

            const featuresHTML = result.features.map(feature =>
                `<li>${feature}</li>`
            ).join('');
            document.getElementById('resultFeatures').innerHTML = featuresHTML;

            // PDF„ÅÆURL„Çí‰øùÂ≠ò
            window.currentPdfUrl = result.pdfUrl;

            showScreen('resultScreen');
        }

        function viewPDF() {
            if (window.currentPdfUrl) {
                window.open(window.currentPdfUrl, '_blank');
            } else {
                alert('PDF„ÅÆÊ∫ñÂÇô‰∏≠„Åß„Åô„ÄÇ„Åó„Å∞„Çâ„Åè„ÅäÂæÖ„Å°„Åè„Å†„Åï„ÅÑ„ÄÇ');
            }
        }

        function restartDiagnosis() {
            showScreen('startScreen');
            currentQuestion = 0;
            answers = {};
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        // ÂàùÊúüË°®Á§∫
        window.onload = function() {
            showScreen('startScreen');
        };
    </script>
</body>
</html>